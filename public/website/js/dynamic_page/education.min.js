function _defineProperty(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}var recaptchaReset=function(t){grecaptcha.ready(function(){grecaptcha.execute(siteKey,{action:t}).then(function(t){$("#btn-update").prop("disabled",!1),$("#recaptcha-key").val(t)})})},prepareSubmit=function(){$("#btn-update").find(".submit-text").hide(),$("#btn-update").find(".loading").css("display","inline-block"),$("#btn-update").prop("disabled",!0)},afterSubmit=function(){$("#btn-update").find(".submit-text").show(),$("#btn-update").find(".loading").css("display","none"),$(".error-update").remove(),setTimeout(function(){$("#btn-update").prop("disabled",!1)},3e3)},getRegions=function t(n,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],buildQuery(e)),r=$(a).val();$.ajax({url:n+"?"+o,type:"GET",dataType:"json",success:function(n){var e="";n.forEach(function(t){var n="";t.id==r&&(n="selected"),e+='<option value="'.concat(t.id,'" ').concat(n,">").concat(t.text,"</option>")}),$(a).chosen("destroy").empty().append(e),$(a).chosen();var o=$(a).data("child");if(null!=o&&null!=o){var i=$(a).data("parent-param"),c=$(a).val();t($(a).data("child-url"),o,_defineProperty({},i,c))}},statusCode:{500:function(t){console.log("Internal Server Error")}}})},buildQuery=function(t){if("string"==typeof t)return t;var n=[];for(var a in t)t.hasOwnProperty(a)&&n.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return n.join("&")},datePickerInit=function(){$(".datepicker").datepicker({format:"dd-mm-yyyy",autoclose:!0,orientation:"bottom"})};$(function(){$(window).width()<800&&1!=localStorage.getItem("keep_use_device")&&Swal.fire({title:"Device Kurang Lebar :(",text:"Demi kemudahan Anda, untuk pengisian form kami sarankan menggunakan laptop atau komputer",type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#ccc",confirmButtonText:"Gunakan device ini",cancelButtonText:"Tutup"}).then(function(t){t.value&&localStorage.setItem("keep_use_device","1")}),datePickerInit(),$(".year-input").datepicker({format:"yyyy",viewMode:"years",minViewMode:"years",autoclose:!0,orientation:"bottom"})});var initRangeMonthDatePicker=function(){[{firstDatePicker:".month-year-input-in",lastDatePicker:".month-year-input-out",format:"mm-yyyy",viewMode:"months"},{firstDatePicker:".non-formal-from-date",lastDatePicker:".non-formal-until-date",format:"dd-mm-yyyy",viewMode:"dates"},{firstDatePicker:".tenure-from-date",lastDatePicker:".tenure-end-date",format:"dd-mm-yyyy",viewMode:"dates"}].forEach(function(t){$(t.lastDatePicker).datepicker({format:t.format,viewMode:t.viewMode,minViewMode:t.viewMode,autoclose:!0,orientation:"bottom"}).on("changeDate",function(n){$(t.firstDatePicker).datepicker("setEndDate",n.date)}),$(t.firstDatePicker).datepicker({format:t.format,viewMode:t.viewMode,minViewMode:t.viewMode,autoclose:!0,orientation:"bottom"}).on("changeDate",function(n){$(t.lastDatePicker).datepicker("setStartDate",n.date)})})};$(function(){recaptchaReset("education"),initRangeMonthDatePicker(),$.ajax({url:"/ajax/majors",type:"GET",success:function(t){var n="<option></option>",a=$("#major-sma-select");t.forEach(function(t){if("1"==t.type){var e=a.val();""!=e&&null!=e&&null!=e?e!=t.id&&(n+='<option value="'.concat(t.id,'">').concat(t.text,"</option>")):n+='<option value="'.concat(t.id,'">').concat(t.text,"</option>")}}),["d3","s1","s2"].forEach(function(n){var a="<option></option>",e=$("#major-"+n+"-select"),o=e.val();t.forEach(function(t){"2"==t.type&&(""!=o&&null!=o&&null!=o?o!=t.id&&(a+='<option value="'.concat(t.id,'">').concat(t.text,"</option>")):a+='<option value="'.concat(t.id,'">').concat(t.text,"</option>"))}),e.append(a),e.chosen()}),a.append(n).chosen()},statusCode:{422:function(t){},400:function(t){},500:function(t){}}}),$("#non-formal-form").on("click",".add-non-formal",function(){var t=$(this).closest("form").find(".non-formal-row");if(!(t.length>=5)){var n=t.last().clone(),a=parseInt(n.data("index"))+1;n.find("input").val(""),n.find(".non-formal-course-name").attr("name","non_formal_educations[".concat(a,"][training_name]")),n.find(".non-formal-place").attr("name","non_formal_educations[".concat(a,"][place]")),n.find(".non-formal-note").attr("name","non_formal_educations[".concat(a,"][note]")),n.find(".non-formal-from-date").attr("name","non_formal_educations[".concat(a,"][start_date]")),n.find(".non-formal-until-date").attr("name","non_formal_educations[".concat(a,"][end_date]")),n.attr("data-index",a),n.appendTo("#non-formal-form"),initRangeMonthDatePicker()}}),$("#non-formal-form").on("click",".remove-non-formal",function(){$(this).closest("form").find(".non-formal-row").length<2||$(this).closest(".non-formal-row").remove()}),$("#foreign-lang-form").on("click",".add-non-formal",function(){var t=$(this).closest("form").find(".foreign-lang-row");if(!(t.length>=5)){var n=t.last().clone(),a=n.data("index"),e=parseInt(a)+1;n.find('input[type="text"]').val(""),n.find(".foreign-lang-language").attr("name","languages[".concat(e,"][language]")),n.find(".foreign-lang-writing").attr("name","languages[".concat(e,"][writing]")),n.find(".foreign-lang-reading").attr("name","languages[".concat(e,"][reading]")),n.find(".foreign-lang-grammar").attr("name","languages[".concat(e,"][grammar]")),n.attr("data-index",e),n.find("#writing-bad-".concat(a)).attr("id","writing-bad-".concat(e)),n.find("#reading-bad-".concat(a)).attr("id","reading-bad-".concat(e)),n.find("#grammar-bad-".concat(a)).attr("id","grammar-bad-".concat(e)),n.find('label[for="writing-bad-'.concat(a,'"]')).attr("for","writing-bad-".concat(e)),n.find('label[for="reading-bad-'.concat(a,'"]')).attr("for","reading-bad-".concat(e)),n.find('label[for="grammar-bad-'.concat(a,'"]')).attr("for","grammar-bad-".concat(e)),n.find("#writing-good-".concat(a)).attr("id","writing-good-".concat(e)),n.find("#reading-good-".concat(a)).attr("id","reading-good-".concat(e)),n.find("#grammar-good-".concat(a)).attr("id","grammar-good-".concat(e)),n.find('label[for="writing-good-'.concat(a,'"]')).attr("for","writing-good-".concat(e)),n.find('label[for="reading-good-'.concat(a,'"]')).attr("for","reading-good-".concat(e)),n.find('label[for="grammar-good-'.concat(a,'"]')).attr("for","grammar-good-".concat(e)),n.appendTo("#foreign-lang-form")}}),$("#foreign-lang-form").on("click",".remove-non-formal",function(){$(this).closest("form").find(".foreign-lang-row").length<2||$(this).closest(".foreign-lang-row").remove()}),$("#btn-update").on("click",function(t){t.preventDefault(),prepareSubmit();var n=$("#formal-education-form, #education-detail-form, #non-formal-form, #foreign-lang-form");$.ajax({url:"/profiles/education",type:"PUT",data:n.serialize(),success:function(t){t.success&&(Toast.fire({type:"success",title:t.message}),recaptchaReset("education")),afterSubmit()},statusCode:{422:function(t){recaptchaReset("education"),afterSubmit(),Toast.fire({type:"error",title:"Mohon koreksi ulang inputan Anda"});var a=t.responseJSON.errors,e=function(){var t=error.split("."),e="";t.length>1?(t.forEach(function(n,a){a!=t.length&&(e+=0==a?n+"[":n+"][")}),e=e.slice(0,-1)):e=error,n.find('[name="'+e+'"]').parent().append('<span class="text-danger error-update">'.concat(a[error].join(". "),"</span>"))};for(error in a)e()},400:function(t){Toast.fire({type:"error",title:t.responseJSON.message}),recaptchaReset("education"),afterSubmit()},500:function(t){Toast.fire({type:"error",title:"Internal server error"}),recaptchaReset("education"),afterSubmit()}}})})});
